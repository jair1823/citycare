<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>

    <ion-buttons slot="end">
      <ion-button color="light" (click)="filtro = !filtro;ocultar();">
        <ion-icon slot="icon-only" name="options"></ion-icon>
      </ion-button>
    </ion-buttons>

    <ion-title>Inicio</ion-title>

  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-progress-bar *ngIf="bar || bar2" type=indeterminate></ion-progress-bar>
  <ion-card *ngIf="filtro" class="card-search" color="light">
    <ion-card-header>
      <ion-card-subtitle>Awesome Subtitle</ion-card-subtitle>
      <ion-card-title>Awesome Title</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-item>
        <ion-label>Provincia</ion-label>
        <ion-select placeholder="Select One" [(ngModel)]="provincia" (ngModelChange)="changeprovincias()">
          <ion-select-option *ngFor="let item of provincias" [value]="item.id">
            {{item.name}}
          </ion-select-option>
        </ion-select>
      </ion-item>

      <ion-item *ngIf="s1">
        <ion-label>Cant√≥n</ion-label>
        <ion-select placeholder="Select One" [(ngModel)]="canton" (ngModelChange)="changecantones()">
          <ion-select-option *ngFor="let item of cantones" [value]="item.id">
            {{item.name}}
          </ion-select-option>
        </ion-select>
      </ion-item>

      <ion-item *ngIf="s2">
        <ion-label>Distrito</ion-label>
        <ion-select placeholder="Select One" [(ngModel)]="distrito" (ngModelChange)="changedistritos()">
          <ion-select-option *ngFor="let item of distritos" [value]="item.id">
            {{item.name}}
          </ion-select-option>
        </ion-select>
      </ion-item>

      <ion-item *ngIf="s3">
        <ion-label>Comunidad</ion-label>
        <ion-select placeholder="Select One" [(ngModel)]="comunidad" (ngModelChange)="changecomunidades()">
          <ion-select-option *ngFor="let item of comunidades" [value]="item.id">
            {{item.name}}
          </ion-select-option>
        </ion-select>
      </ion-item>

      <ion-item *ngIf="s4">
        <ion-label class="grupos-label">Grupos de Comunidades</ion-label>
        <ion-select placeholder="Select One" [(ngModel)]="grupo" (ngModelChange)="changegrupos()">
          <ion-select-option *ngFor="let item of grupos" [value]="item.id">
            {{item.name}}
          </ion-select-option>
        </ion-select>
      </ion-item>

      <ion-button *ngIf="s5" expand="block" color="secondary" (click)="filtro = !filtro;">
        Filtrar
      </ion-button>
    </ion-card-content>
  </ion-card>

  <ion-card *ngFor="let new of news" color="light">
    <ion-card-header>
      <ion-card-subtitle> {{new.description}} </ion-card-subtitle>
      <ion-card-title>{{new.title}}</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-label>Fecha y Hora: {{new.date}}</ion-label><br>
      <ion-label>Grupo de Comunidades: {{new.comunidad}}</ion-label><br>
      <ion-chip color="success" mode="md" outline="true">
        <ion-label>Agradecimientos:{{new.likes}}</ion-label>
      </ion-chip>
    </ion-card-content>
    <ion-slides *ngIf="new.multimedia.length > 0 else default" mode="md" pager="md" scrollbar="md">
      <ion-slide *ngFor="let multi of new.multimedia">
        <img class="slideimg"
          [src]="'https://comunidades-organizadas.000webhostapp.com/evidence/'+new.id+'/'+multi.multimedia_path">
      </ion-slide>
    </ion-slides>

    <ng-template #default>
      <ion-slides mode="md" pager="md" scrollbar="md">
        <ion-slide>
          <img class="slideimg"
            [src]="'https://www.gumtree.com/static/1/resources/assets/rwd/images/orphans/a37b37d99e7cef805f354d47.noimage_thumbnail.png'">
        </ion-slide>
      </ion-slides>
    </ng-template>

    <div>
      <ion-item color="medium">
        <ion-button class="myicon myicon2">
          <ion-icon color="secondary" name="heart"></ion-icon>
        </ion-button>
        <ion-button class="myicon">
          <ion-icon color="tertiary" name="chatbubbles"></ion-icon>
        </ion-button>
        <ion-button class="myicon">
          <ion-icon color="success" name="alert"></ion-icon>
        </ion-button>
        <ion-button class="myicon">
          <ion-icon color="danger" name="warning"></ion-icon>
        </ion-button>
      </ion-item>
    </div>

  </ion-card>

</ion-content>